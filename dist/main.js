!function(e){var t={};function l(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.m=e,l.c=t,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(n,s,function(t){return e[t]}.bind(null,s));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/dist",l(l.s=0)}([function(e,t,l){"use strict";l.r(t);var n=()=>{const e=document.querySelectorAll(".popup"),t=document.querySelectorAll(".open-popup"),l=document.getElementById("total-price"),n=document.getElementById("calc"),s=document.getElementById("quantity_days"),i=(e,t)=>{e.classList.remove("popup__content-active"),t.style.visibility="hidden"},a=(e,t)=>{t=t.nextElementSibling.style.display="show"===e?"block":"none"};t.forEach(t=>{t.addEventListener("click",t=>{(t=>{if("calc"===t){let s=!1;""===l.value&&(s=!0,a("show",n),n.scrollIntoView({block:"center",behavior:"smooth"})),s||e.forEach(e=>{if(e.attributes.title.nodeValue===t){const t=e.querySelector(".popup__content");e.style.visibility="visible",t.classList.add("popup__content-active"),e.addEventListener("click",l=>{l.target.closest(".popup__close")&&i(t,e)}),e.addEventListener("mousedown",l=>{l.target.closest(".popup__content")||i(t,e)})}})}else e.forEach(e=>{if("rent_car"===t&&"rent_car"===e.attributes[0].nodeValue&&s.addEventListener("input",e=>{let t=e.target;t.value=t.value.replace(/[^\d]/g,""),a("hide",t),+t.value>30&&(t.value=30,a("show",t))}),e.attributes.title.nodeValue===t){const t=e.querySelector(".popup__content");e.style.visibility="visible",t.classList.add("popup__content-active"),e.addEventListener("click",l=>{l.target.closest(".popup__close")&&i(t,e)}),e.addEventListener("mousedown",l=>{l.target.closest(".popup__content")||i(t,e)})}})})(t.target.name)})})};var s=()=>{document.querySelectorAll(".servis__content").forEach(e=>{e.addEventListener("mouseover",t=>{t.target.closest(".servis__content")&&(e.childNodes[1].classList.remove("circle-big-active"),e.childNodes[1].classList.add("circle-big-active"),e.childNodes[3].classList.remove("circle-small-active"),e.childNodes[3].classList.add("circle-small-active"))}),e.addEventListener("mouseleave",t=>{t.target.closest(".servis__content")&&(e.childNodes[1].classList.remove("circle-big-active"),e.childNodes[3].classList.remove("circle-small-active"))})})};var i=()=>{const e=document.getElementById("header"),t=document.getElementById("arrow-up"),l=document.querySelector(".logo");let n=!1;window.addEventListener("scroll",(function(){pageYOffset>300?e.classList.contains("header-light")||(e.classList.add("header-light"),n=!0,t.style.display="flex"):(e.classList.remove("header-light"),n=!1,t.style.display="none"),n&&(t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),l.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}))}))};var a=()=>{$(".phone-valid").each((function(){$(this).intlTelInput({initialCountry:"auto",geoIpLookup:function(e){jQuery.get("https://ipinfo.io",(function(){}),"jsonp").always((function(t){const l=t&&t.country?t.country:"ES";e(l)}))},autoFormat:!1,nationalMode:!1,preferredCountries:["ru","ua","es","lt","lv","bg"],utilsScript:"src/script/utils.js"}),$(this).on("input",(function(){let e=$(this).val();e=e.replace(/[^\d\/+]/g,""),$(this).val(e)}))})),$("form").each((function(){$(this).submit((function(){console.log($(this));let e=!1;const t=$(this).find(".form-error");if(t.css("display","none"),$(this).find(".input-normal").removeClass("input-normal-invalid"),$(this).find("input, textarea").each((function(){if((""==$.trim($(this).val())&&$(this).hasClass("required")||$.trim($(this).val())==/^\d+$/&&"tel"===$(this).attr("type"))&&(e=!0,$(this).hasClass("required"))){$(this).addClass("input-normal-invalid");const e=$(this).attr("id");t.each((function(){e===$(this).attr("for")&&$(this).css("display","block")}))}})),!e){const e=$(this).find(".thanks-mesage"),t=$(this).serialize();$.ajax({url:"../src/mail-send.php",type:"POST",data:t,success:function(t){e.css("display","block"),setTimeout((function(){e.css("display","none")}),5e3)},error:function(){console.log("Error"),e.css("display","block"),setTimeout((function(){e.css("display","none")}),5e3)}})}return!1}))}))};var o=()=>{$(".slider").slick({arrows:!0,dots:!0,speed:2e3,autoplay:!0,autoplaySpeed:5e3,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!0,draggable:!0,swipe:!0,touchTreshold:10,centerMode:!1})};(()=>{const e=document.getElementById("switch-season"),t=document.getElementById("distance"),l=document.getElementById("switch-wait"),n=document.getElementById("wait-time"),s=document.querySelector(".time"),i=document.getElementById("quantity"),a=document.getElementById("switch-child"),o=document.querySelector(".child-settings"),c=document.getElementById("child-quantity"),r=document.getElementById("child-age"),d=document.getElementById("calc"),u=document.getElementById("total-price"),p=document.querySelectorAll(".panel-heading"),h=document.querySelectorAll(".panel-collapse");let v={season:"summer",distance:0,wait:!1,waitTime:0,quantityPers:0,childs:{available:!1,childQuantity:0,childAge:[]},totalPrice:0};const m=(e,t)=>{t=t.nextElementSibling.style.display="show"===e?"block":"none"};p.forEach((e,t)=>{e.addEventListener("click",()=>{""!==u.value&&(u.value=""),h.forEach((e,l)=>{e.classList.contains("collapse-open")?e.classList.remove("collapse-open"):(e.classList.remove("collapse-open"),t===l&&e.classList.toggle("collapse-open"))})})}),e.addEventListener("change",e=>{e.target.checked?v.season="winter":v.season="summer"}),t.addEventListener("change",e=>{const t=e.target;t.value.match(/\D/g)||+t.value>600?(t.value=0,m("show",t)):(t.value=t.value,m("hide",t),v.distance=+t.value)}),l.addEventListener("change",e=>{e.target.checked?(s.style.display="flex",v.wait=!0):(s.style.display="none",n.value="",v.wait=!1)}),n.addEventListener("change",e=>{const t=e.target;t.value.match(/\D/g)?(t.value=0,m("show",t)):(t.value=t.value,m("hide",t),v.waitTime=+t.value)}),i.addEventListener("change",e=>{const t=e.target;t.value.match(/\D/g)||t.value<1?(t.value=0,m("show",t)):(t.value=t.value,m("hide",t),v.quantityPers=+t.value)}),a.addEventListener("change",e=>{const t=e.target.checked;if(o.style.display=t?"block":"none",t)v.childs.available=!0,c.addEventListener("input",e=>{const t=e.target;if(t.value.match(/\D/g)||+t.value>3){if(t.value=0,m("show",t),r.childElementCount)for(let e=0;r.childElementCount;e++)r.removeChild(r.firstElementChild)}else t.value=t.value,m("hide",t),v.childs.childQuantity=+t.value,((e,t)=>{if("age"===e){if(v.childs.childQuantity=t,r.childElementCount)for(let e=0;r.childElementCount;e++)r.removeChild(r.firstElementChild);for(let e=1;e<=t;e++){const t=document.createElement("li");e<3?(t.innerHTML=`<span>Возраст ${e}-ого ребенка</span>\n                    <input style="width: 80%;" class="childAgeUnico input-normal" name="child_age${e}" type="text">\n                    <span class="form-error">Введите цифру меньше 12</span>`,r.appendChild(t)):(t.innerHTML=`<span>Возраст ${e}-eго ребенка</span>\n                    <input style="width: 80%;" class="childAgeUnico input-normal" name="child_age${e}" type="text">\n                    <span class="form-error">Введите цифру меньше 12</span>`,r.appendChild(t))}document.querySelectorAll(".childAgeUnico").forEach(e=>{e.addEventListener("input",t=>{const l=t.target;l.value.match(/\D/g)||+l.value>12?(l.value=0,m("show",l)):(l.value=+l.value,m("hide",l)),v.childs.childAge.push(+e.value)})})}})("age",+t.value)});else if(v.childs.available=!1,v.childs.childAge=[],v.childs.childQuantity=0,c&&(c.children[1].value=""),r.childElementCount)for(let e=0;r.childElementCount;e++)r.removeChild(r.firstElementChild)}),d.addEventListener("click",()=>{m("hide",d);let e=!1;if(n.classList.remove("input-normal-invalid"),h.forEach(t=>{t.classList.remove("collapse-open"),t.querySelectorAll(".required").forEach(t=>{if(t.classList.remove("input-normal-invalid"),""===t.value||"0"===t.value){t.closest(".panel-collapse").classList.add("collapse-open"),t.classList.add("input-normal-invalid"),m("show",t),e=!0}})}),l.checked&&""===n.value){e=!0,n.closest(".panel-collapse").classList.add("collapse-open"),n.classList.add("input-normal-invalid"),m("show",n)}if(a.checked)if(""===c.querySelector("input").value){e=!0,c.closest(".panel-collapse").classList.add("collapse-open"),c.querySelector("input").classList.add("input-normal-invalid"),m("show",c.querySelector("input"))}else{r.querySelectorAll("input").forEach(t=>{if(""===t.value||"0"===t.value){e=!0,t.closest(".panel-collapse").classList.add("collapse-open"),t.classList.add("input-normal-invalid"),m("show",t)}})}e||(u.value=(()=>{const e=v.distance,t=v.distance<=80?.8:v.distance>80&&v.distance<=120?.7:v.distance>120&&v.distance<=150?.65:(v.distance,.6),l=(v.season,.05),n=10*v.waitTime,s=v.quantityPers;let i=e*t;return"summer"===v.season?i+=i*l:i-=i*l,v.wait&&(i+=n),s>4&&(i*=1.7),Math.floor(i)})(),u.scrollIntoView({block:"center",behavior:"smooth"}))})})(),n(),s(),i(),a(),o()}]);